

<!-- 设置编辑器 -->
<script type="text/html" data-template-name="Single Node">
    <!-- 设置第一行为Name -->
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="lora.single_nodeInfo.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]lora.single_nodeInfo.name">
    </div>

    <!-- 指定节点设备 -->
    <div class="form-row">
        <label for="node-input-singleDev_type"><i class="icon-tag"></i> <span data-i18n="lora.single_nodeInfo.label_1"></span> </label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> devEUI </label>
        <input type="text" id="node-input-singleDevText" placeholder="devEUI">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('Single Node',{  
        category: 'DFROBOT-LoRaWAN',
        color: '#e5e510',
        // 存放节点的可编辑属性
        defaults: {
            name: { value: "" }, // 对应于节点名称的配置
            devEUI: { value: "", required: true, validate: RED.validators.regex(/^[A-Za-z0-9]{16}$/) }
        },
        inputs:0,
        outputs:1,  
        icon: "bridge.svg",
        align: "left",
        
        label: function() {
            return this.name||this._("lora.single_nodeInfo.Label_0_dragOut");
        },

        oneditprepare: function() {
            var node = this;
            var inputName = $("#node-input-name");
            var inputSingleDevText = $("#node-input-singleDevText");

            // 恢复已有的规则数据
            inputName.val(node.name);
            inputSingleDevText.val(node.devEUI);
        },

        oneditsave: function() {
            var node = this;
            var inputName = $("#node-input-name");
            var inputSingleDevText = $("#node-input-singleDevText");

            // 保存元素的值到节点的配置中
            node.name = inputName.val();
            node.devEUI = inputSingleDevText.val();
        },
    });
</script>







    